(this["webpackJsonpspokane-surf-report"]=this["webpackJsonpspokane-surf-report"]||[]).push([[0],{20:function(e,t,a){},26:function(e,t,a){e.exports=a.p+"static/media/map-icon-thumbs-up.e033c19d.svg"},27:function(e,t,a){e.exports=a.p+"static/media/map-icon-thumbs-down.1694df64.svg"},28:function(e,t,a){e.exports=a.p+"static/media/map-icon-ok-hand.66def7bb.svg"},29:function(e,t,a){e.exports=a.p+"static/media/map-icon-no-data.9bb93053.svg"},34:function(e,t,a){e.exports=a(77)},39:function(e,t,a){},40:function(e,t,a){e.exports=a.p+"static/media/logo-surf-spokane.00f3e031.svg"},41:function(e,t,a){},42:function(e,t,a){e.exports=a.p+"static/media/icon-help.36e3b190.svg"},43:function(e,t,a){e.exports=a.p+"static/media/icon-contact.eef7c833.svg"},44:function(e,t,a){},63:function(e,t,a){e.exports=a.p+"static/media/icon-ok-hand.cdabfdfd.svg"},64:function(e,t,a){e.exports=a.p+"static/media/icon-thumbs-up.0c8a7df4.svg"},65:function(e,t,a){e.exports=a.p+"static/media/icon-thumbs-down.f5f54d59.svg"},66:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},77:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),s=a(15),i=a.n(s),r=a(32),l=a(6),c=a(2),u=a(3),p=a(1),m=a(5),h=a(4),d=(a(39),function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).handleClick=a.handleClick.bind(Object(p.a)(a)),a}return Object(u.a)(n,[{key:"handleClick",value:function(e){this.props.toggleMapVisibility()}},{key:"render",value:function(){return o.a.createElement("header",null,o.a.createElement("img",{src:a(40),alt:"Spokane Surf Logo"}),o.a.createElement("h1",null,"Spokane Surf Report"),o.a.createElement("input",{id:"map-button",className:"map-button",type:"checkbox",checked:this.props.mapVisible,onClick:this.handleClick,readOnly:!0}),o.a.createElement("label",{htmlFor:"map-button",className:"map-button-display"},o.a.createElement("h2",null,"Map"),o.a.createElement("svg",{version:"1.1",id:"arrow",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 50 50",enableBackground:"new 0 0 50 50"},o.a.createElement("polygon",{points:"25,6.555 50.009,6.555 37.505,25 25,43.445 12.496,25 -0.008,6.555 "}))))}}]),n}(n.Component)),f=(a(41),function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).showHelp=a.showHelp.bind(Object(p.a)(a)),a.showContact=a.showContact.bind(Object(p.a)(a)),a}return Object(u.a)(n,[{key:"showHelp",value:function(e){this.props.showHelp(),window.scrollTo({top:0,left:0,behavior:"smooth"})}},{key:"showContact",value:function(e){this.props.showContact(),window.scrollTo({top:0,left:0,behavior:"smooth"})}},{key:"close",value:function(e){this.props.close()}},{key:"render",value:function(){return o.a.createElement("footer",null,o.a.createElement("div",{className:"copyright"},o.a.createElement("p",null,"\xa9 2020 Spokane Surf Report - All rights reserved.")),o.a.createElement("div",{className:"options-bar"},o.a.createElement("button",{className:"option",onClick:this.showHelp},o.a.createElement("img",{src:a(42),alt:"help"}),o.a.createElement("h2",null,"Help")),o.a.createElement("button",{className:"option",onClick:this.showContact},o.a.createElement("img",{src:a(43),alt:"contact"}),o.a.createElement("h2",null,"Contact"))))}}]),n}(n.Component)),b=a(14),v=a(16),E=function(e){var t=e.currentValue,a=e.min,n=e.max,o=e.optimumFlowLow_i,s=e.optimumFlowHigh_i;return void 0===t||void 0===a||void 0===n?"NoData":t>a&&t<n?t>o&&t<s?"spot-optimum":"spot-in":"spot-out"},g=function(e){return e.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")},k=function(e,t){var a=e.currentValue,n=e.min,o=e.max,s=t.currentValue,i=t.min,r=t.max,l=Math.abs(n-n)<Math.abs(o-a)?Math.abs(n-a)/n:Math.abs(a-o)/o,c=Math.abs(i-s)<Math.abs(r-s)?Math.abs(i-s)/i:Math.abs(s-r)/r;if("spot-optimum"===E(e)&&("spot-in"===E(t)||"spot-out"===E(t)))return-1;if("spot-optimum"===E(t)&&("spot-in"===E(e)||"spot-out"===E(e)))return 1;if("spot-in"===E(e)&&"spot-out"===E(t))return-1;if("spot-in"===E(t)&&"spot-out"===E(e))return 1;if("spot-out"===E(e)&&"spot-out"===E(t)){if(l<c)return-1;if(l>c)return 1}return 0},y=(a(44),a(26)),w=a.n(y),C=a(27),j=a.n(C),O=a(28),S=a.n(O),N=a(29),x=a.n(N),M=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;Object(c.a)(this,a),(n=t.call(this,e)).handleMarkerClick=function(e,t){n.props.filterSpots(e.id),n.setState({selectedSpot:e,activeMarker:t,showingInfoWindow:!0,center:{lat:e.position.lat,lng:e.position.lng}})},n.onInfoWindowClose=function(){return n.setState({activeMarker:null,showingInfoWindow:!1},(function(){n.props.unfilterSpots()}))};return n.state={center:n.getCenter(n.props.spots),zoom:n.getZoom(n.props.spots,0),showingInfoWindow:!1,activeMarker:{},selectedSpot:{}},n.googleBaseUrl="http://maps.google.com/maps?q=loc:",n.containerRef=o.a.createRef(),n}return Object(u.a)(a,[{key:"getIcon",value:function(e){var t=E(e);return"spot-optimum"===t?S.a:"spot-in"===t?w.a:"spot-out"===t?j.a:x.a}},{key:"getCenter",value:function(e){return 1===e.length?{lat:e[0].location.lat,lng:e[0].location.lon}:e.length>1?{lat:(Math.min.apply(Math,Object(b.a)(e.map((function(e){return e.location.lat}))))+Math.max.apply(Math,Object(b.a)(e.map((function(e){return e.location.lat})))))/2,lng:(Math.min.apply(Math,Object(b.a)(e.map((function(e){return e.location.lon}))))+Math.max.apply(Math,Object(b.a)(e.map((function(e){return e.location.lon})))))/2}:{lat:47.7061299,lng:-117.1419032}}},{key:"getZoom",value:function(e,t){var a=11;if(t>0){var n=Math.min.apply(Math,Object(b.a)(e.map((function(e){return e.location.lon})))),o=Math.max.apply(Math,Object(b.a)(e.map((function(e){return e.location.lon}))))-n;o<0&&(o+=360),(a=Math.floor(Math.log(360*t/o/256)/Math.LN2))===1/0&&(a=15),a>15&&(a=15)}return a}},{key:"componentDidMount",value:function(){var e=parseInt(this.containerRef.current.offsetWidth);this.setState({zoom:this.getZoom(this.props.spots,e)})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:this.props.mapVisible?"map-container":"map-container hidden",ref:this.containerRef},o.a.createElement(v.Map,{className:"map",google:this.props.google,zoom:this.state.zoom,initialCenter:{lat:this.state.center.lat,lng:this.state.center.lng},center:{lat:this.state.center.lat,lng:this.state.center.lng},onMouseout:this.handleMapMouseOut},this.props.spots.map((function(t){return o.a.createElement(v.Marker,{key:t.spot_id,name:t.name,id:t.spot_id,value:t.currentValue,unit:t.unit,parkingLat:t.accessLoc.lat,parkingLng:t.accessLoc.lon,position:{lat:t.location.lat,lng:t.location.lon},icon:e.getIcon(t),onClick:e.handleMarkerClick})})),this.props.spots.map((function(t){return o.a.createElement(v.InfoWindow,{key:t.spot_id,marker:e.state.activeMarker,visible:e.state.showingInfoWindow,onClose:e.onInfoWindowClose},o.a.createElement("div",{className:"info-window"},o.a.createElement("h2",null,"".concat(e.state.selectedSpot.name," : ")+"".concat(e.state.selectedSpot.value," ")+"".concat(e.state.selectedSpot.unit)),o.a.createElement("a",{href:"".concat(e.googleBaseUrl).concat(e.state.selectedSpot.parkingLat,",").concat(e.state.selectedSpot.parkingLng),target:"_blank",rel:"noopener noreferrer"},"Get Directions")))}))))}}]),a}(n.Component),D=Object(v.GoogleApiWrapper)((function(e){return{apiKey:"AIzaSyASDGCu1bl0W6-fct3mb0qi4msLcV8qgMQ",language:e.language}}))(M),V=a(21),_=a.n(V),H=a(30),I=(a(20),function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"getFlowChange",value:function(){var e=this.props.spot,t=e.values,a=void 0===t?[]:t,n=e.currentValue,o=void 0===n?0:n,s=e.currentValueTime,i=void 0===s?new Date:s,r=new Date(i);if(void 0!==a&&a.length>0){var l=a.filter((function(e){return Date.parse(e.dateTime)<=r.setHours(r.getHours()-1)}));return(o-l.reduce((function(e,t){return new Date(e.dateTime)>new Date(t.dateTime)?e:t}),new Date(l[0].dateTime)).value).toFixed(2)}return 0}},{key:"getFlowChangeClass",value:function(){return this.getFlowChange()>0?"flow-positive":this.getFlowChange()<0?"flow-negative":"flow-flat"}},{key:"getStatusIcon",value:function(){switch(E(this.props.spot)){case"spot-optimum":return o.a.createElement("img",{src:a(63),alt:"Optimum Icon"});case"spot-in":return o.a.createElement("img",{src:a(64),alt:"Surfable Icon"});case"spot-out":return o.a.createElement("img",{src:a(65),alt:"Not Surfable Icon"});default:return""}}},{key:"render",value:function(){var e=this.props.spot,t=e.name,a=void 0===t?"Unknown":t,n=e.currentValue,s=void 0===n?0:n,i=e.min,r=void 0===i?0:i,l=e.max,c=void 0===l?0:l,u=e.unit,p=void 0===u?"unk":u,m=this.getFlowChange();return o.a.createElement("div",{className:"data-card-display"},o.a.createElement("div",{className:"status-icon"},this.getStatusIcon()),o.a.createElement("h2",null,a),o.a.createElement("div",{className:"spot-values"},o.a.createElement("div",null,o.a.createElement("h3",null,"".concat(g(s)," ").concat(p)),o.a.createElement("h5",{className:this.getFlowChangeClass()},"".concat(m>0?"+":"").concat(g(m)))),o.a.createElement("h4",null,"range: ".concat(g(r)," - ").concat(g(c)," ").concat(p))))}}]),n}(n.Component));I.defaultProps={spot:{}};var F=I,T=(a(66),function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).usgs_site="https://waterdata.usgs.gov/nwis/uv?".concat(n.props.spot.site),n}return Object(u.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"data-card-desc"},o.a.createElement("div",{className:"overview-box"},o.a.createElement("div",{className:"gage-box"},o.a.createElement("h4",null,"Gage:"),o.a.createElement("h4",{className:"value"},this.props.spot.site)),void 0!==this.props.spotDetail.difficulty?o.a.createElement("div",{className:"diff-box"},o.a.createElement("h4",null,"Difficulty:"),o.a.createElement("h4",{className:"value"}," ".concat(this.props.spotDetail.difficulty))):""),void 0!==this.props.spot.siteName?o.a.createElement("div",null,o.a.createElement("h4",null,"Gage Name:"),o.a.createElement("a",{href:this.usgs_site,target:"_blank",rel:"noopener noreferrer"},this.props.spot.siteName)):"",void 0!==this.props.spotDetail.desc?o.a.createElement("div",{className:"describe-box"},o.a.createElement("h4",null,"Description:"),o.a.createElement("p",null,this.props.spotDetail.desc)):"",void 0!==this.props.spotDetail.flowInfo?o.a.createElement("div",{className:"info-box"},o.a.createElement("h4",null,"Flow Info:"),o.a.createElement("ul",null,this.props.spotDetail.flowInfo.map((function(e){return o.a.createElement("li",{key:e},e)})))):"",void 0!==this.props.spotDetail.links?o.a.createElement("div",{className:"info-box"},o.a.createElement("h4",null,"Links:"),o.a.createElement("ul",null,this.props.spotDetail.links.map((function(e){return o.a.createElement("li",{key:e.label},o.a.createElement("a",{href:e.url,target:"_blank",rel:"noopener noreferrer"},e.label))})))):"",void 0!==this.props.spotDetail.features?o.a.createElement("div",{className:"info-box"},o.a.createElement("h4",null,"Features:"),o.a.createElement("p",null," ",this.props.spotDetail.features.join(", "))):"",void 0!==this.props.spotDetail.tricks?o.a.createElement("div",{className:"info-box"},o.a.createElement("h4",null,"Tricks:"),o.a.createElement("p",null," ",this.props.spotDetail.tricks.join(", "))):"")}}]),a}(n.Component)),L=(a(67),function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).months=["January","Febuary","March","April","May","June","July","August","September","October","November","December"],n}return Object(u.a)(a,[{key:"isToday",value:function(e,t){var a="not-today",n=new Date,o=n.getUTCMonth()+1,s=n.getUTCDate();return this.months.indexOf(e)+1===o&&t===s&&(a="today"),a}},{key:"getColorValue",value:function(e,t){var a=this.getPercent(e,t),n="";return a>0&&a<=.1?n="break-point-1":a>.1&&a-.25<.001?n="break-point-2":a>.25&&a-.5<.001?n="break-point-3":a>.5&&a-.75<.001?n="break-point-4":a>.75&&(n="break-point-5"),n}},{key:"getPercent",value:function(e,t){var a=this.months.indexOf(e)+1,n=this.props.spotDetail.history,o=(void 0===n?[]:n).find((function(e){return e.month===a&&e.day===t}),{});return void 0===o?0:o.percent}},{key:"getDays",value:function(){for(var e=[],t=0;t<31;t++)e.push(t+1);return e}},{key:"render",value:function(){var e=this;return(new Date).setMonth(1),o.a.createElement("div",{className:"data-card-history"},o.a.createElement("h4",null,"Daily Surf Probability"),o.a.createElement("table",{className:"legend"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"< 10%"),o.a.createElement("th",null,"10% - 25%"),o.a.createElement("th",null,"25% - 50%"),o.a.createElement("th",null,"50% - 75%"),o.a.createElement("th",null,"75% - 100%"))),o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("div",{className:"break-point-1"})),o.a.createElement("td",null,o.a.createElement("div",{className:"break-point-2"})),o.a.createElement("td",null,o.a.createElement("div",{className:"break-point-3"})),o.a.createElement("td",null,o.a.createElement("div",{className:"break-point-4"})),o.a.createElement("td",null,o.a.createElement("div",{className:"break-point-5"}))))),o.a.createElement("div",{className:"history-chart-container"},o.a.createElement("table",{className:"history-chart"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null," "),this.getDays().map((function(e){return o.a.createElement("th",{key:e,className:"day-".concat(e)},e)})))),o.a.createElement("tbody",null,this.months.map((function(t){return o.a.createElement("tr",{key:t},o.a.createElement("th",{className:"label-col"},t),e.getDays().map((function(a){return o.a.createElement("td",{key:a,className:e.isToday(t,a)},o.a.createElement("div",{className:"day-".concat(a," ").concat(e.getColorValue(t,a))}," "))})))}))))))}}]),a}(n.Component)),B=(a(68),function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={activeTab:"describe"},n.handleHeaderButtonClick=n.handleHeaderButtonClick.bind(Object(p.a)(n)),n}return Object(u.a)(a,[{key:"handleHeaderButtonClick",value:function(e){this.setState({activeTab:e})}},{key:"render",value:function(){var e=this,t=this.props.spotDetail,a=t.optimumFlowLow_i,n=void 0===a?0:a,s=t.optimumFlowHigh_i,i=void 0===s?0:s,r=this.props.spot.unit,l=void 0===r?"unk":r;return o.a.createElement("div",{className:"data-card-detail"},o.a.createElement("div",{className:"detail-header"},o.a.createElement("h4",null,"optimum range: ".concat(g(n)," - ").concat(g(i)," ").concat(l)),o.a.createElement("div",{className:"tab-bar"},o.a.createElement("button",{className:"describe"===this.state.activeTab?"tab-button active":"tab-button",onClick:function(){return e.handleHeaderButtonClick("describe")}},"Description"),o.a.createElement("button",{className:"history"===this.state.activeTab?"tab-button active":"tab-button",onClick:function(){return e.handleHeaderButtonClick("history")}},"History"))),o.a.createElement("div",{className:"detail-content"},"describe"===this.state.activeTab?o.a.createElement(T,{spotDetail:this.props.spotDetail,spot:this.props.spot}):o.a.createElement(L,{spotDetail:this.props.spotDetail})))}}]),a}(n.Component)),W="/spokane-surf-report/test-data/overview_spot_data.json",R="/spokane-surf-report/test-data/detail_spot_data.json",A=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={details:{}},n.onChangeExpand=n.onChangeExpand.bind(Object(p.a)(n)),n}return Object(u.a)(a,[{key:"fetchData",value:function(){var e=this;fetch(R,{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(t){e.setState({details:t.find((function(t){return t.spot_id===e.props.spot.spot_id}))})}))}},{key:"onChangeExpand",value:function(){var e=Object(H.a)(_.a.mark((function e(t){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.target.checked&&this.fetchData();case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){return o.a.createElement("li",{className:"data-card"},o.a.createElement("input",{id:"detail-button-"+this.props.spot.spot_id,className:"detail-button",type:"checkbox",onChange:this.onChangeExpand,defaultChecked:this.props.expanded}),o.a.createElement("label",{htmlFor:"detail-button-"+this.props.spot.spot_id,className:"detail-button-view"},o.a.createElement(F,{spot:this.props.spot}),o.a.createElement(B,{spotDetail:this.state.details,spot:this.props.spot})))}}]),a}(n.Component);A.defaultProps={spot:{spot_id:0}};var U=A,q=function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"data-card-deck"},o.a.createElement("ul",null,this.props.spots.map((function(t){return o.a.createElement(U,{key:t.spot_id,spot:t,expanded:e.props.expanded})}))))}}]),a}(n.Component),z=(a(69),function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleClose=n.handleClose.bind(Object(p.a)(n)),n}return Object(u.a)(a,[{key:"handleClose",value:function(e){this.props.close()}},{key:"render",value:function(){return o.a.createElement("div",{className:"help-container"},"Help!")}}]),a}(n.Component)),P=a(31),G=a.n(P),J=(a(72),function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={sent:!1,sentError:!1},n.handleSubmit=n.handleSubmit.bind(Object(p.a)(n)),n.handleReset=n.handleReset.bind(Object(p.a)(n)),n.handleClose=n.handleClose.bind(Object(p.a)(n)),n}return Object(u.a)(a,[{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),G.a.sendForm("cmowry84_gmail_com","spokane_surf_template",e.target,"user_MSz5YgeHOFUkryf4ORwRH").then((function(e){t.setState({sent:!0})}),(function(e){t.setState({sentError:!0})}))}},{key:"handleClose",value:function(e){this.props.close()}},{key:"handleReset",value:function(e){this.setState({sent:!1,sentError:!1})}},{key:"render",value:function(){return o.a.createElement("div",{className:"contact-container"},this.state.sentError?o.a.createElement("div",{className:"contact-form-sent-error"},o.a.createElement("h3",null,"Error: Your message was not sent. Please try again."),o.a.createElement("button",{onClick:this.handleReset},"Try Again"),o.a.createElement("button",{onClick:this.handleClose},"Cancel")):this.state.sent?o.a.createElement("div",{className:"contact-form-sent"},o.a.createElement("h3",null,"Thank you for reaching out! We will get back to you as soon as possible."),o.a.createElement("button",{onClick:this.handleClose},"Close")):o.a.createElement("form",{className:"contact-form",onSubmit:this.handleSubmit},o.a.createElement("h2",null,"Contact Us:"),o.a.createElement("div",{className:"floating-label"},o.a.createElement("input",{type:"text",id:"senderName",name:"senderName",placeholder:"Name",required:!0}),o.a.createElement("label",{htmlFor:"senderName"},"Name")),o.a.createElement("div",{className:"floating-label"},o.a.createElement("input",{type:"text",id:"senderEmail",name:"senderEmail",placeholder:"Email",required:!0}),o.a.createElement("label",{htmlFor:"senderEmail"},"Email")),o.a.createElement("div",{className:"message-box"},o.a.createElement("label",{htmlFor:"feedback"},"Message:"),o.a.createElement("textarea",{id:"feedback",name:"feedback",rows:"10",required:!0})),o.a.createElement("div",{className:"button-box"},o.a.createElement("button",{onClick:this.handleClose},"Cancel"),o.a.createElement("input",{type:"submit",value:"Submit"}))))}}]),a}(n.Component)),Z=(a(73),function(e){Object(m.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={surfSpots:[],filteredSpots:[],mapVisible:!1,mapButtomVisible:!0,expandedCards:!1,filtered:!1,isLoaded:!1,helpVisible:!1,contactVisible:!1},n.showHelp=n.showHelp.bind(Object(p.a)(n)),n.showContact=n.showContact.bind(Object(p.a)(n)),n.close=n.close.bind(Object(p.a)(n)),n.toggleMapVisibility=n.toggleMapVisibility.bind(Object(p.a)(n)),n.toggleCardExpand=n.toggleCardExpand.bind(Object(p.a)(n)),n.filterSpots=n.filterSpots.bind(Object(p.a)(n)),n.unfilterSpots=n.unfilterSpots.bind(Object(p.a)(n)),n}return Object(u.a)(a,[{key:"toggleMapVisibility",value:function(){this.setState({mapVisible:!this.state.mapVisible})}},{key:"toggleCardExpand",value:function(){this.setState({expandedCards:!this.state.expandedCards})}},{key:"showHelp",value:function(){this.setState({helpVisible:!0,contactVisible:!1})}},{key:"showContact",value:function(){this.setState({helpVisible:!1,contactVisible:!0})}},{key:"close",value:function(){this.setState({helpVisible:!1,contactVisible:!1})}},{key:"filterSpots",value:function(e){this.setState({filtered:!0,filteredSpots:this.state.surfSpots.filter((function(t){return t.spot_id===e})).sort(k)})}},{key:"unfilterSpots",value:function(){this.setState({filtered:!1}),this.getSurfSpots()}},{key:"getSurfSpots",value:function(){var e=this;fetch(W,{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){return e.json()})).then((function(t){var a=e.props.match.params.spot,n=parseInt(e.props.match.params.gage);a&&(t=t.filter((function(e){return e.name.toLowerCase()===a.toLowerCase()})),e.setState({mapVisible:!0,expandedCards:!0})),n&&1===(t=t.filter((function(e){return e.site===n}))).length&&e.setState({mapVisible:!0,expandedCards:!0}),e.setState({surfSpots:t,filteredSpots:t.sort(k)})}))}},{key:"componentDidMount",value:function(){var e=this;this.state.isLoaded||(this.getSurfSpots(),this.setState({isLoaded:!0})),this.interval=setInterval((function(){return e.getSurfSpots()}),6e5)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){return o.a.createElement("div",{className:"container"},o.a.createElement(d,{mapVisible:this.state.mapVisible,toggleMapVisibility:this.toggleMapVisibility,mapButtomVisible:this.state.mapButtomVisible}),o.a.createElement("div",{className:"content"},this.state.helpVisible?o.a.createElement("div",{className:"cover"},o.a.createElement(z,{close:this.close})):"",this.state.contactVisible?o.a.createElement("div",{className:"cover"},o.a.createElement(J,{close:this.close})):"",o.a.createElement(D,{spots:this.state.surfSpots,mapVisible:this.state.mapVisible,filterSpots:this.filterSpots,unfilterSpots:this.unfilterSpots}),o.a.createElement(q,{spots:this.state.filteredSpots,expanded:this.state.expandedCards}),o.a.createElement(f,{showHelp:this.showHelp,showContact:this.showContact})))}}]),a}(n.Component));a(74),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(r.a,{basename:"/spokane-surf-report/"},o.a.createElement(l.a,{exact:!0,path:"/",component:Z}),o.a.createElement(l.a,{exact:!0,path:"/spots",component:Z}),o.a.createElement(l.a,{exact:!0,path:"/spots/:spot",component:Z}),o.a.createElement(l.a,{exact:!0,path:"/gages/",component:Z}),o.a.createElement(l.a,{exact:!0,path:"/gages/:gage",component:Z})),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[34,1,2]]]);
//# sourceMappingURL=main.c64a31ac.chunk.js.map